@using SocialPlatform.Client.Shared.Data
<div class="top-bar">
    <TopBar Style="height: 100%;" Context="@Channel.Name" Description="@Channel.Description"/>
</div>
<div class="row-container">
    <VerticalLayout Style="min-width: 300px; width: 80%; overflow-y: clip; height: 100%;">
        <VerticalLayout Style="width: 100%; overflow-y: scroll; height: 90%;">
            @foreach(var message in Channel?.Messages ?? new List<MessageData>())
            {
                <Message/>
            }
            <p style="height: 200px;"> </p>
        </VerticalLayout>
        <HorizontalLayout Style="padding-left: 5px; padding-right: 5px; width: 100%; height: 50px; background-color:#e5e6e711; border-radius: 5px; border: solid 1px;">
            <button class="entry-icon-button">
                <img src="_content/SocialPlatform.Client.Shared/img/SocialPlatform_icons/Plus.svg" alt="Add attachment button" class="icon-small"/>
            </button>
            <textarea id="message-entry"></textarea>
            <button id="send-button">
                <!--<img src="_content/SocialPlatform.Client.Shared/img/SocialPlatform_icons/Send.svg" alt="Send message button" class="icon-small"/>-->
                Send
            </button>
        </HorizontalLayout>
    </VerticalLayout>
    <div class="member-list">
        <UserStatus/>
    </div>
</div>

@code {
    [Parameter] public TextChannelData Channel { get; set; } = null!;
}