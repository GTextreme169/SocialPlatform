<div class="@Class" id="@Id" style="@Style">
    <svg class="ico-img" viewBox="0 0 100 100">
        <mask id="svgmask1">
            <path fill="#ffffff" stroke="none" d="
                M 0,50
                Q 0,0 50,0
                T 100,50
                50,100
                0,50
                " />
            @if(MyStatus != Status.None || NotificationCount >= 0)
            {
                <circle cx="90" cy="90" r="13" fill="#000000" />
            }
        </mask>
        <image width="100%" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="_content/SocialPlatform.Client.Shared/img/placekitten-200x200.jpeg" mask="url(#svgmask1)"/>
        <g cx="90" cy="90">
            <circle cx="90" cy="90" r="10" fill="@GetStatusColor()"/>
           <text x="90" y="90" dominant-baseline="central" text-anchor="middle" fill="white">@NotificationCount</text>
        </g>

    </svg>
</div>

@code {

    public enum Status
    {
        Online,
        Offline,
        Busy,
        Away,
        None
    }

    [Parameter]
    public Status MyStatus { get; set; } = Status.None;

    [Parameter] public int? NotificationCount { get; set; } = null;

    [Parameter] public string Class { get; set; } = "";
    
    [Parameter] public string Id { get; set; } = "";
    
    [Parameter] public string Style { get; set; } = "";

    public string GetStatusColor()
    {
        if(MyStatus == Status.None && NotificationCount > 0)
        {
            return "Red";
        }
        return MyStatus switch
        {
            Status.Online => "Green",
            Status.Offline => "Red",
            Status.Busy => "Yellow",
            Status.Away => "Orange",
            _ => "Transparent"
        };
    }
}